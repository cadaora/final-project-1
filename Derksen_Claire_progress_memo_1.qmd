---
title: "Progress Memo 1"
subtitle: |
  | Final Project 
  | Data Science 1 with R (STAT 301-1)
author: "Claire Derksen"
date: today

format:
  html:
    toc: true
    embed-resources: true
    
execute:
  echo: false
  warning: false

from: markdown+emoji 
---

```{r}
#| label: load-pkgs
# Loading package(s)
library(tidyverse)
library(naniar)
library(janitor)
```



::: {.callout-tip icon=false}

## Github Repo Link

[https://github.com/stat301-1-2023-fall/final-project-1-cadaora](https://github.com/stat301-1-2023-fall/final-project-1-cadaora)

:::


## Data source

I am using data from the National Survey on Drug Use and Health (NSDUH) for 2020^[[https://www.datafiles.samhsa.gov/dataset/national-survey-drug-use-and-health-2020-nsduh-2020-ds0001](https://www.datafiles.samhsa.gov/dataset/national-survey-drug-use-and-health-2020-nsduh-2020-ds0001)] and 2019^[[https://www.datafiles.samhsa.gov/dataset/national-survey-drug-use-and-health-2019-nsduh-2019-ds0001](https://www.datafiles.samhsa.gov/dataset/national-survey-drug-use-and-health-2019-nsduh-2019-ds0001)]. It is a survey conducted by the Substance Abuse and Mental Health Administration (SAMSHA) of people aged 12 and older in the United States. It covers topics including mental health and substance use. Due to methodology changes including web-based interviewing, the 2020 and 2019 NSDUH data may be hard to compare. However, SAMSHA cprovided a comparability chart that shows what variable are compatible between 2019 and 2020

## Why this data

I'm interested in exploring what societal factors can impact drug use. I'd like to particularly focus on college students since that's applicable to my life. It'd be interesting to see if there was any particular increase in drug use during the start of the COVID pandemic in the US although since we can't combine previous year our analysis is a bit limited.

## Data quality & complexity check
Most of the variables are integers that would need to be interpreted using the code book. The original 2020 and 2021 files had 32893 observations and 2890 variables and 58034 observations and 2988 variables respectively. After filtering only college students we now have 3337 observations in the 2020 dataset and 6177 in the 2021 dataset.
```{r}
#| label: load-datasets
#| eval: false
NSDUH_2020 <-read.delim(file="data/NSDUH_2020_Tab.txt")
NSDUH_2019 <-read.delim(file="data/NSDUH_2021_Tab.txt")
```

```{r}
#| label: filter-college-datasets
#| eval: false
NSDUH_2020_college <- NSDUH_2020 %>%
  filter(EDUSCHGRD2==9|EDUSCHGRD2==10|EDUSCHGRD2==11) %>%
  write_rds(file="data/NSDUH_2020_college.rds")

NSDUH_2021_college <- NSDUH_2021 %>%
  filter(EDUSCHGRD2==9|EDUSCHGRD2==10|EDUSCHGRD2==11) %>%
  write_rds(file="data/NSDUH_2021_college.rds")
```


## Potential data issues
I'll need to merge the two datasets. In order to shorten the loading time of any future scripts, I began with creating two smaller datasets only including college students and writing those to files. The most tedious part will be turning the integer variables into factor variables using the codebook.
```{r}
#| label: missingness
miss_var_summary(NSDUH_2020_college)
colnames(NSDUH_2021_college)[!(colnames(NSDUH_2021_college) %in% colnames(NSDUH_2020_college))]
```


## Misc

 Later I will have to decide what variables I would like to select I can change the variable names from uppercase to lowercase.
